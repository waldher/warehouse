/*
 * jQuery UI Position 1.9pre
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
(function(e,A){e.ui=e.ui||{};var r=/left|center|right/,s=/top|center|bottom/,t=/[+-]\d+%?/,u=/^\w+/,p=/%$/,B=e.fn.position;e.position={scrollbarWidth:function(){var b,a,c=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");a=c.children()[0];e("body").append(c);b=a.offsetWidth;c.css("overflow","scroll");a=a.offsetWidth;if(b===a)a=c[0].clientWidth;c.remove();return b-a},getScrollInfo:function(b){var a=b[0],c=b.height()<a.scrollHeight;
b=b.width()<a.scrollWidth;a=e.position.scrollbarWidth();return{height:c?a:0,width:b?a:0}}};e.fn.position=function(b){if(!b||!b.of)return B.apply(this,arguments);b=e.extend({},b);var a=e(b.of),c=e(b.within||window),d=a[0],f=(b.collision||"flip").split(" "),g={},k,l,m,j;if(d.nodeType===9){l=a.width();m=a.height();j={top:0,left:0}}else if(e.isWindow(d)){l=a.width();m=a.height();j={top:a.scrollTop(),left:a.scrollLeft()}}else if(d.preventDefault){b.at="left top";l=m=0;j={top:b.of.pageY,left:b.of.pageX}}else{l=
a.outerWidth();m=a.outerHeight();j=a.offset()}e.each(["my","at"],function(){var h=(b[this]||"").split(" "),n,o;if(h.length===1)h=r.test(h[0])?h.concat(["center"]):s.test(h[0])?["center"].concat(h):["center","center"];h[0]=r.test(h[0])?h[0]:"center";h[1]=s.test(h[1])?h[1]:"center";n=t.exec(h[0]);o=t.exec(h[1]);g[this]=[n?n[0]:0,o?o[0]:0];b[this]=[u.exec(h[0])[0],u.exec(h[1])[0]]});if(f.length===1)f[1]=f[0];if(b.at[0]==="right")j.left+=l;else if(b.at[0]==="center")j.left+=l/2;if(b.at[1]==="bottom")j.top+=
m;else if(b.at[1]==="center")j.top+=m/2;k=[parseInt(g.at[0],10)*(p.test(g.at[0])?l/100:1),parseInt(g.at[1],10)*(p.test(g.at[1])?m/100:1)];j.left+=k[0];j.top+=k[1];return this.each(function(){var h=e(this),n=h.outerWidth(),o=h.outerHeight(),v=parseInt(e.curCSS(this,"marginLeft",true))||0,w=parseInt(e.curCSS(this,"marginTop",true))||0,x=e.position.getScrollInfo(c),C=n+v+(parseInt(e.curCSS(this,"marginRight",true))||0)+x.width,D=o+w+(parseInt(e.curCSS(this,"marginBottom",true))||0)+x.height,i=e.extend({},
j),q=[parseInt(g.my[0],10)*(p.test(g.my[0])?h.outerWidth()/100:1),parseInt(g.my[1],10)*(p.test(g.my[1])?h.outerHeight()/100:1)],y;if(b.my[0]==="right")i.left-=n;else if(b.my[0]==="center")i.left-=n/2;if(b.my[1]==="bottom")i.top-=o;else if(b.my[1]==="center")i.top-=o/2;i.left+=q[0];i.top+=q[1];i.left=Math.round(i.left);i.top=Math.round(i.top);y={left:i.left-v,top:i.top-w};e.each(["left","top"],function(z,E){if(e.ui.position[f[z]])e.ui.position[f[z]][E](i,{targetWidth:l,targetHeight:m,elemWidth:n,elemHeight:o,
collisionPosition:y,collisionWidth:C,collisionHeight:D,offset:[k[0]+q[0],k[1]+q[1]],my:b.my,at:b.at,within:c})});e.fn.bgiframe&&h.bgiframe();h.offset(e.extend(i,{using:b.using}))})};e.ui.position={fit:{left:function(b,a){var c=a.within,d=e(window),f=e.isWindow(a.within[0]),g=f?d.scrollLeft():c.offset().left;c=f?d.width():c.outerWidth();d=g-a.collisionPosition.left;g=a.collisionPosition.left+a.collisionWidth-c-g;if(a.collisionWidth>c||d>0)b.left+=d;else if(g>0)b.left-=g;else b.left=Math.max(b.left-
a.collisionPosition.left,b.left)},top:function(b,a){var c=a.within,d=e(window),f=e.isWindow(a.within[0]),g=f?d.scrollTop():c.offset().top;c=f?d.height():c.outerHeight();d=g-a.collisionPosition.top;g=a.collisionPosition.top+a.collisionHeight-c-g;if(a.collisionHeight>c||d>0)b.top+=d;else if(g>0)b.top-=g;else b.top=Math.max(b.top-a.collisionPosition.top,b.top)}},flip:{left:function(b,a){if(a.at[0]!=="center"){var c=a.within;e(window);var d=e.isWindow(a.within[0]),f=d?0:c.offset().left;c=d?c.width():
c.outerWidth();c=a.collisionPosition.left+a.collisionWidth-c-f;d=a.my[0]==="left"?-a.elemWidth:a.my[0]==="right"?a.elemWidth:0;var g=a.at[0]==="left"?a.targetWidth:-a.targetWidth,k=-2*a.offset[0];if(a.collisionPosition.left-f<0||c>0)b.left+=d+g+k}},top:function(b,a){if(a.at[1]!=="center"){var c=a.within;e(window);var d=e.isWindow(a.within[0]),f=d?0:c.offset().top;c=d?c.height():c.outerHeight();c=a.collisionPosition.top+a.collisionHeight-c-f;d=a.my[1]==="top"?-a.elemHeight:a.my[1]==="bottom"?a.elemHeight:
0;var g=a.at[1]==="top"?a.targetHeight:-a.targetHeight,k=-2*a.offset[1];if(a.collisionPosition.top-f<0||c>0)b.top+=d+g+k}}}};e.uiBackCompat!==false&&function(b){var a=b.fn.position;b.fn.position=function(c){if(!c||!c.offset)return a.call(this,c);var d=c.offset.split(" "),f=c.at.split(" ");if(d.length===1)d[1]=d[0];if(/^\d/.test(d[0]))d[0]="+"+d[0];if(/^\d/.test(d[1]))d[1]="+"+d[1];if(f.length===1)if(/left|center|right/.test(f[0]))f[1]="center";else{f[1]=f[0];f[0]="center"}return a.call(this,b.extend(c,
{at:f[0]+d[0]+" "+f[1]+d[1],offset:A}))}}(jQuery)})(jQuery);
